import{a as d}from"./chunk-R3DSXEXQ.js";import{w as h,x as l,y as b}from"./chunk-UH4UVRDG.js";import{da as g,ia as c,q as a}from"./chunk-WZJH74Y7.js";import{a as u,b as m,h as o}from"./chunk-AQY5CCQG.js";var s=class s{constructor(){this.http=c(b);this.base=d.url_ws.replace(/\/+$/,"")}headers(){let e=d.token,t=new h({"Content-Type":"application/json"});return e&&(t=t.set("Authorization",`Bearer ${e}`)),t}normalizeSchedule(e){return e&&e.schedule instanceof Date&&(e=m(u({},e),{schedule:e.schedule.toISOString()})),e}serializeOutputModel(e){if(e)return typeof e=="string"?e:JSON.stringify(e)}create$(e,t){let n=`${this.base}/${encodeURIComponent(e)}`,r=this.normalizeSchedule(t);return this.http.post(n,r,{headers:this.headers()})}create(e,t){return o(this,null,function*(){return a(this.create$(e,t))})}list$(e,t){let n=`${this.base}/${encodeURIComponent(e)}`,r=this.serializeOutputModel(t?.outputModel),i=new l;return r&&(i=i.set("output_model",r)),this.http.get(n,{headers:this.headers(),params:i})}list(e,t){return o(this,null,function*(){return a(this.list$(e,t))})}getById$(e,t,n){let r=`${this.base}/${encodeURIComponent(e)}`,i=this.serializeOutputModel(n?.outputModel),p=new l().set("id",String(t));return i&&(p=p.set("output_model",i)),this.http.get(r,{headers:this.headers(),params:p})}getById(e,t,n){return o(this,null,function*(){return a(this.getById$(e,t,n))})}update$(e,t){let n=`${this.base}/${encodeURIComponent(e)}`,r=this.normalizeSchedule(t);return this.http.patch(n,r,{headers:this.headers()})}update(e,t){return o(this,null,function*(){return a(this.update$(e,t))})}delete$(e,t){let n=`${this.base}/${encodeURIComponent(e)}`,r=new l().set("id",String(t));return this.http.delete(n,{headers:this.headers(),params:r})}delete(e,t){return o(this,null,function*(){return a(this.delete$(e,t))})}};s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=g({token:s,factory:s.\u0275fac,providedIn:"root"});var I=s;export{I as a};
