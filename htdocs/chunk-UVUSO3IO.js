import{a as T}from"./chunk-WZUGRW7D.js";import{A as x,B as _,H as k,I as S,S as M,T as F,U as I,h as v}from"./chunk-OAFOHBG2.js";import"./chunk-SZRZRJOS.js";import{a as N}from"./chunk-LNAHWHDB.js";import"./chunk-R3DSXEXQ.js";import{b as D,c as E,f as L,m as B}from"./chunk-UPQQ6FNK.js";import"./chunk-UH4UVRDG.js";import{Lb as t,Mb as n,Nb as c,Zb as f,ab as u,fb as g,lb as b,oc as s,qa as d,ra as p,sc as h,tc as w,uc as C}from"./chunk-WZJH74Y7.js";import{e as G,h as y}from"./chunk-AQY5CCQG.js";var l=G(N());var r=class r{constructor(a,o){this.backoffice=a;this.router=o;this.username="";this.password="";this.loading=!1}login(){return y(this,null,function*(){let a=this.username.trim(),o=this.password.trim();if(!a||!o){yield l.default.fire({icon:"warning",title:"Campos requeridos",text:"Ingrese usuario y contrase\xF1a."});return}this.loading=!0;try{let e=yield this.backoffice.login({username:a,password:o});if(e.allowed){sessionStorage.setItem("username",e.username||""),yield this.router.navigateByUrl("/dashboard");return}yield l.default.fire({icon:"error",title:"Acceso denegado",text:"Usuario o contrase\xF1a incorrectos o no tiene permisos."})}catch(e){yield l.default.fire({icon:"error",title:"Error",text:e?.message??"No se pudo iniciar sesi\xF3n."})}finally{this.loading=!1}})}};r.\u0275fac=function(o){return new(o||r)(g(T),g(v))},r.\u0275cmp=b({type:r,selectors:[["app-login"]],decls:24,vars:2,consts:[[1,"d-flex","flex-wrap","min-vh-100"],[1,"d-none","d-md-flex","flex-column","justify-content-center","align-items-center","p-5","col-md-5",2,"background-color","#F8F9FA","min-height","100vh"],[1,"mb-4"],["src","assets/images/logo_grupo_kfc.png","alt","Logo Grupo KFC",2,"width","200px"],[1,"text-center","text-dark"],[1,"mt-3","text-secondary",2,"text-align","justify","max-width","400px"],[1,"d-flex","justify-content-center","align-items-center","col-12","col-md-7",2,"background","linear-gradient(160deg, #1c1c1cca 0%, #2c2c2c 100%)","min-height","100vh"],[1,"p-5","text-white",2,"width","380px","border-radius","20px","background-color","rgba(0,0,0,0.6)","box-shadow","0 0 20px rgba(0,0,0,0.5)"],[1,"text-center"],["src","assets/images/logo.png","alt","Avatar",2,"width","auto","height","80px","border-radius","50%"],[1,"mb-3"],["cInputGroupText","",1,"bg-dark","border-0","text-white"],["cIcon","","name","cil-envelope-closed"],["type","text","cFormControl","","placeholder","Nombre de Usuario",1,"bg-dark","text-white","border-0",3,"ngModelChange","ngModel"],["cIcon","","name","cil-lock-locked"],["type","password","cFormControl","","placeholder","Contrase\xF1a",1,"bg-dark","text-white","border-0",3,"ngModelChange","keyup.enter","ngModel"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["cButton","",1,"w-100","text-white",2,"background-color","#D71920","border","none",3,"click"]],template:function(o,e){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),c(3,"img",3),n(),t(4,"h5",4),s(5,"Sistema de Comunicaci\xF3n Interna"),n(),t(6,"p",5),s(7," Plataforma dise\xF1ada para administrar y centralizar el env\xEDo de notificaciones internas, mejorando la comunicaci\xF3n con los colaboradores de manera clara, oportuna y eficiente. "),n()(),t(8,"div",6)(9,"c-card",7)(10,"c-card-body",8)(11,"div",2),c(12,"img",9),n(),t(13,"c-input-group",10)(14,"span",11),d(),c(15,"svg",12),n(),p(),t(16,"input",13),C("ngModelChange",function(i){return w(e.username,i)||(e.username=i),i}),n()(),t(17,"c-input-group",10)(18,"span",11),d(),c(19,"svg",14),n(),p(),t(20,"input",15),C("ngModelChange",function(i){return w(e.password,i)||(e.password=i),i}),f("keyup.enter",function(){return e.login()}),n()(),t(21,"div",16)(22,"button",17),f("click",function(){return e.login()}),s(23,"Acceder"),n()()()()()()),o&2&&(u(16),h("ngModel",e.username),u(4),h("ngModel",e.password))},dependencies:[B,D,E,L,k,S,F,I,x,M,_],styles:["[_ngcontent-%COMP%]::placeholder{color:#dee2e6!important;opacity:1}input[_ngcontent-%COMP%]::placeholder{color:#dee2e6!important}"]});var j=r;export{j as LoginComponent};
